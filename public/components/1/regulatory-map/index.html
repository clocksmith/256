<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AV Regulatory Overview (Interactive List)</title>
    <style>
      :root {
        --bg-color: #f8f9fa;
        --text-color: #212529;
        --border-color: #dee2e6;
        --padding: 0.8rem;
        --item-bg: #fff;
        --item-hover-bg: #e9ecef;
        --status-permissive: #28a745;
        --status-moderate: #ffc107;
        --status-strict: #dc3545;
        --header-bg: #e9ecef;
      }
      body.dark-mode {
        --bg-color: #1a1a1a;
        --text-color: #e0e0e0;
        --border-color: #4d4d4d;
        --item-bg: #2a2a2a;
        --item-hover-bg: #383838;
        --status-permissive: #33cc33;
        --status-moderate: #ffcc00;
        --status-strict: #ff6666;
        --header-bg: #333;
      }
      body {
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: var(--padding);
        background-color: var(--bg-color);
        color: var(--text-color);
        font-size: 0.85rem; /* Smaller base for denser info */
        line-height: 1.5;
      }
      .filter-controls {
        margin-bottom: var(--padding);
        display: flex;
        gap: 0.5rem;
      }
      .filter-controls label {
        font-size: 0.8rem;
      }
      .filter-controls select {
        padding: 0.3rem 0.5rem;
        border-radius: 4px;
        border: 1px solid var(--border-color);
        background-color: var(--item-bg);
        color: var(--text-color);
        font-size: 0.8rem;
      }
      .region-list-container {
        max-height: 300px; /* For scrollability if many items */
        overflow-y: auto;
        border: 1px solid var(--border-color);
        border-radius: 4px;
      }
      .region-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .region-item {
        border-bottom: 1px solid var(--border-color);
        padding: calc(var(--padding) * 0.7); /* Slightly less padding */
        background-color: var(--item-bg);
        transition: background-color 0.2s ease;
        cursor: default; /* No specific action on item click for now */
      }
      .region-item:last-child {
        border-bottom: none;
      }
      .region-item:hover {
        background-color: var(--item-hover-bg);
      }
      .region-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.3rem;
      }
      .region-name {
        font-weight: bold;
        font-size: 0.9rem; /* Larger region name */
      }
      .region-status-badge {
        padding: 0.2rem 0.5rem;
        border-radius: 10px;
        font-size: 0.7rem;
        font-weight: 500;
        color: #fff; /* White text for all badges for contrast */
      }
      .status-permissive-bg {
        background-color: var(--status-permissive);
      }
      .status-moderate-bg {
        background-color: var(--status-moderate);
      }
      .status-strict-bg {
        background-color: var(--status-strict);
      }
      body.dark-mode .status-moderate-bg {
        color: #333; /* Darker text for yellow in dark mode */
      }

      .region-details {
        font-size: 0.8rem; /* Smaller detail text */
        color: var(--text-color-low-emphasis, var(--text-color));
        padding-left: 0.2rem;
      }
      .region-details strong {
        /* Highlight key terms */
        color: var(--text-color);
        font-weight: 500;
      }
    </style>
  </head>
  <body>
    <div class="filter-controls">
      <label for="status-filter">Filter by Status:</label>
      <select id="status-filter">
        <option value="all">All Statuses</option>
        <option value="permissive">Permissive</option>
        <option value="moderate">Moderate</option>
        <option value="strict">Strict (Hypothetical)</option>
      </select>
    </div>

    <div class="region-list-container">
      <ul class="region-list">
        <li class="region-item" data-status="permissive">
          <div class="region-header">
            <span class="region-name">USA - Federal (NHTSA)</span>
            <span class="region-status-badge status-permissive-bg"
              >Permissive Framework</span
            >
          </div>
          <div class="region-details">
            AV Policy 4.0 (Apr 2025) promotes testing & innovation. Focus on
            <strong>safety standards</strong>, voluntary guidance (AV TEST
            Initiative), data reporting.
            <strong>No pre-market approval</strong> mandate currently. Balances
            innovation with safety oversight.
          </div>
        </li>
        <li class="region-item" data-status="moderate">
          <div class="region-header">
            <span class="region-name">USA - California</span>
            <span class="region-status-badge status-moderate-bg"
              >Moderate & Regulated</span
            >
          </div>
          <div class="region-details">
            Requires <strong>DMV permits</strong> for testing & deployment
            (driverless allowed). Separate frameworks for passenger vs.
            goods/trucking. Proposed <strong>heavy-duty AV rules</strong> (May
            2025) demanding significant mileage. Active enforcement.
          </div>
        </li>
        <li class="region-item" data-status="permissive">
          <div class="region-header">
            <span class="region-name">USA - Arizona</span>
            <span class="region-status-badge status-permissive-bg"
              >Highly Permissive</span
            >
          </div>
          <div class="region-details">
            Minimal state-level regulation beyond standard traffic laws for AV
            testing/deployment. <strong>Executive orders</strong> paved way.
            Favored by Waymo, Intel, and others for extensive testing.
          </div>
        </li>
        <li class="region-item" data-status="permissive">
          <div class="region-header">
            <span class="region-name">USA - Texas</span>
            <span class="region-status-badge status-permissive-bg"
              >Permissive</span
            >
          </div>
          <div class="region-details">
            Generally permissive, state law allows driverless operation if
            aligned with federal guidance and safety standards. Site of initial
            commercial autonomous trucking (e.g., Aurora).
            <strong>No specific AV operating permits needed.</strong>
          </div>
        </li>
        <li class="region-item" data-status="moderate">
          <div class="region-header">
            <span class="region-name">China</span>
            <span class="region-status-badge status-moderate-bg"
              >Supportive & Zoned</span
            >
          </div>
          <div class="region-details">
            Strong government support & investment. Allows extensive testing and
            commercial robotaxi deployment in
            <strong>designated smart city zones/cities</strong> (e.g., Beijing,
            Shanghai, Wuhan via Baidu, Pony.ai). National regulations evolving.
          </div>
        </li>
        <li class="region-item" data-status="moderate">
          <div class="region-header">
            <span class="region-name">European Union (EU)</span>
            <span class="region-status-badge status-moderate-bg"
              >Harmonizing</span
            >
          </div>
          <div class="region-details">
            Developing harmonized framework. Key regulation on
            <strong>type-approval for automated driving systems (L3+)</strong>.
            Focus on safety, ethics, data privacy (GDPR). Member states
            implement specific testing rules.
          </div>
        </li>
      </ul>
    </div>
    <script>
      const params = new URLSearchParams(window.location.search);
      if (params.get("theme") === "dark") {
        document.body.classList.add("dark-mode");
      }

      const filterSelect = document.getElementById("status-filter");
      const regionItems = document.querySelectorAll(".region-item");

      filterSelect.addEventListener("change", function () {
        const selectedStatus = this.value;
        regionItems.forEach((item) => {
          if (
            selectedStatus === "all" ||
            item.dataset.status === selectedStatus
          ) {
            item.style.display = "";
          } else {
            item.style.display = "none";
          }
        });
      });
    </script>
  </body>
</html>
